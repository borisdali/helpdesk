image:
  repository: helpdesk
  tag: latest
  pullPolicy: IfNotPresent

# LLM model configuration. All agents and the orchestrator use these.
model:
  vendor: anthropic        # "google" or "anthropic"
  name: claude-haiku-4-5-20251001
  # Name and key of a pre-existing Kubernetes Secret containing the API key.
  apiKeySecret: helpdesk-api-key
  apiKeyKey: api-key

agents:
  database:
    replicas: 1
    port: 1100
    # Optional: Name of a Secret containing .pgpass file for passwordless auth.
    # Create the secret with: kubectl create secret generic pgpass --from-file=.pgpass=./pgpass
    # File format: hostname:port:database:username:password
    pgpassSecret: ""

  k8s:
    replicas: 1
    port: 1102
    rbac:
      # Create a ServiceAccount, ClusterRole, and ClusterRoleBinding so the
      # K8s agent can query cluster resources via in-cluster kubectl.
      create: true

  incident:
    replicas: 1
    port: 1104
    persistence:
      enabled: true
      size: 10Gi
      storageClass: ""    # empty string = use cluster default

gateway:
  replicas: 1
  port: 8080
  service:
    type: ClusterIP       # set to LoadBalancer for external access

orchestrator:
  # Deploy an interactive pod that users can exec into.
  enabled: true
  # Streaming mode for LLM responses: "sse" (streaming) or "none" (disabled).
  # Default "none" works around ADK REPL bug in containers.
  # Set to "sse" to enable streaming if the bug is fixed.
  streamingMode: "none"

# Infrastructure inventory â€” database servers, K8s clusters, and VMs the
# orchestrator knows about. Passed to the LLM so it can pick the right
# connection strings when calling agents. Leave empty to skip.
#
# Example:
#   infrastructure:
#     db_servers:
#       prod-db:
#         name: "Production Database"
#         connection_string: "host=db.example.com port=5432 dbname=app user=admin"
#         k8s_cluster: "prod"
#         k8s_namespace: "databases"
#     k8s_clusters:
#       prod:
#         name: "Production Cluster"
#         context: "prod-cluster"
#     vms: {}
infrastructure: {}
